
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fitness Sphere â€” Weight Gain</title>
  <link rel="stylesheet" href="css/styles.css"/>
  <style>
    :root { --theme-color: #ff9800; }
    body {
      margin:0;
      font-family: Arial, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      background: linear-gradient(135deg, #ff9c00, #ff5722);
      overflow-x:hidden;
      position: relative;
    }
    .particle {
      position: absolute;
      width: 40px; height: 40px;
      border-radius: 50%;
      opacity: 0.3;
      animation: floatAnim linear infinite;
    }
    @keyframes floatAnim {
      0% { transform: translateY(0) translateX(0); opacity:0.3; }
      50% { opacity:0.6; }
      100% { transform: translateY(-800px) translateX(50px); opacity:0; }
    }

    .container { max-width: 960px; margin:auto; padding:20px; position:relative; z-index:1; }
    .section { margin-bottom:40px; }
    .tracker-card {
      border:2px solid var(--theme-color);
      border-radius:10px;
      padding:14px;
      margin-bottom:14px;
      background:#fff;
      transition: transform 0.3s ease, opacity 0.3s ease, border-color 0.3s ease;
      position: relative;
    }
    .fade-in { opacity:0; transform:translateY(18px); transition: all 0.6s ease; }
    .fade-in.visible { opacity:1; transform:none; }
    .mode-toggle { display:flex; gap:10px; margin:10px 0 14px; }
    .mode-toggle button {
      flex:1; padding:10px; border:none; font-weight:700; cursor:pointer;
      transition: background-color .3s ease, color .3s ease, transform .2s ease;
      border-radius:8px;
    }
    .mode-toggle .active { background: var(--theme-color); color:#fff; }
    .mode-toggle button:active { transform: scale(.98); }
    .read-more { color: var(--theme-color); cursor:pointer; font-weight:600; }
    .note { padding:10px 12px; border-radius:10px; background:#fff3cd; color:#856404; border:1px solid #ffeeba; }
    .calc-card {
      border:1px dashed var(--theme-color); border-radius:12px; padding:14px; background:#fff; margin-top:20px;
    }
    .calc-card input, .calc-card select { width:100%; padding:8px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px; }
    .motivation-msg { padding:6px 10px; margin-top:6px; color:#fff; background:var(--theme-color); border-radius:6px; opacity:0; transition: opacity 0.8s ease; }
    .motivation-msg.visible { opacity:1; }
    .pair { display:flex; gap:12px; align-items:center; }
    .pair img { width:56px; height:56px; object-fit:cover; border-radius:8px; background:#0f1530; border:1px solid #22305e; }
  </style>
</head>
<body>
  <!-- floating particles -->
  <div id="particles"></div>

  <nav class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html"><img src="assets/logo.png" alt="logo" width="120"/></a>
      <div class="links" data-menu>
        <a class="link" href="calories.html">Calories</a>
        <a class="link" href="weight-loss.html">Weight Loss</a>
        <a class="link active" href="weight-gain.html">Weight Gain</a>
        <a class="link" href="exercises.html">Exercises</a>
        <a class="link" href="premium.html">Premium</a>
      </div>
      <button class="btn secondary" data-menu-btn>Menu</button>
    </div>
  </nav>

  <main class="container section">
    <h1 class="fade-in">Weight Gain Guide & Tracker</h1>

    <section class="fade-in">
      <p>Welcome to the Weight Gain section. Use the tracker to follow a clean or fast bulk and see motivational messages when you complete tasks.</p>
    </section>

    <section class="fade-in">
      <div class="mode-toggle">
        <button id="cleanBulkBtn" class="active">Clean Bulk</button>
        <button id="fastBulkBtn">Fast Bulk</button>
      </div>
      <p id="bulkDescShort" class="muted">
        <strong>Clean Bulk:</strong> Balanced approach to gaining muscle with minimal fat. <span id="readMoreToggle" class="read-more">Read more</span>
      </p>
      <div id="bulkDescFull" class="muted" style="display:none">
        <p><strong>Clean Bulk:</strong> Focus on nutrient-dense foods, lean protein, and gradual calorie increases.</p>
        <p><strong>Fast Bulk:</strong> Rapid weight gain with larger calorie surplus; less strict on food quality.</p>
        <p id="fastBulkCaution" class="note" style="display:none"><strong>Caution:</strong> Fast bulk can lead to excess fat. Monitor training and weekly weight.</p>
      </div>
    </section>

    <section id="trackerContainer" class="fade-in"></section>

    <section class="fade-in">
      <h2>Calorie Surplus Calculator</h2>
      <div class="calc-card">
        <input id="wg_weight" type="number" placeholder="Weight (kg)">
        <input id="wg_height" type="number" placeholder="Height (cm)">
        <input id="wg_age" type="number" placeholder="Age (years)">
        <select id="wg_gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
        <select id="wg_activity">
          <option value="1.2">Sedentary</option>
          <option value="1.375">Lightly active</option>
          <option value="1.55">Moderately active</option>
          <option value="1.725">Very active</option>
          <option value="1.9">Extra active</option>
        </select>
        <select id="wg_goal">
          <option value="0.25">+0.25 kg/week</option>
          <option value="0.5">+0.5 kg/week</option>
          <option value="1">+1 kg/week</option>
        </select>
        <button class="btn" id="wg_calcBtn">Calculate</button>
        <div id="wg_result"></div>
      </div>
    </section>

    <section class="fade-in">
      <h2>Extra Tips for Weight Gain</h2>
      <ul>
        <li>Eat calorie-dense snacks between meals.</li>
        <li>Track calories daily to ensure a surplus.</li>
        <li>Progressive overload in training is key.</li>
        <li>Rest enough for muscle recovery.</li>
      </ul>
    </section>
  </main>

  <script src="js/ui.js"></script>
  <script>
  // ---------- PARTICLE ANIMATION ----------
  const particlesContainer = document.getElementById('particles');
  for(let i=0;i<20;i++){
    const p = document.createElement('div');
    p.className='particle';
    p.style.background=`radial-gradient(circle, rgba(255,255,255,0.3), rgba(255,255,255,0))`;
    p.style.left=Math.random()*window.innerWidth+'px';
    p.style.top=Math.random()*window.innerHeight+'px';
    p.style.width = p.style.height = 20+Math.random()*30+'px';
    p.style.animationDuration = 10+Math.random()*20+'s';
    particlesContainer.appendChild(p);
  }

  // ---------- PLANS ----------
  const cleanBulkPlan = [
    { day:"Day 1", ex:{t:"Full-body workout", icon:"icons/dumbbell.png"}, diet:{t:"High-protein breakfast", icon:"icons/protein.png"} },
    { day:"Day 2", ex:{t:"Rest & stretch", icon:"icons/stretch.png"}, diet:{t:"Oats & milk", icon:"icons/oats.png"} },
    { day:"Day 3", ex:{t:"Upper body strength", icon:"icons/biceps.png"}, diet:{t:"Chicken & rice", icon:"icons/chicken.png"} },
    { day:"Day 4", ex:{t:"Cardio 20 min", icon:"icons/cardio.png"}, diet:{t:"Protein shake", icon:"icons/protein.png"} },
    { day:"Day 5", ex:{t:"Lower body strength", icon:"icons/squat.png"}, diet:{t:"Sweet potatoes", icon:"icons/sweetpotato.png"} },
    { day:"Day 6", ex:{t:"Yoga & mobility", icon:"icons/yoga.png"}, diet:{t:"Eggs & toast", icon:"icons/eggs.png"} },
    { day:"Day 7", ex:{t:"Rest", icon:"icons/plate.png"}, diet:{t:"Balanced meals", icon:"icons/plate.png"} }
  ];
  const fastBulkPlan = [
    { day:"Day 1", ex:{t:"Push workout", icon:"icons/push.png"}, diet:{t:"Pasta with cheese", icon:"icons/pasta.png"} },
    { day:"Day 2", ex:{t:"Rest", icon:"icons/rest.png"}, diet:{t:"Smoothies", icon:"icons/smoothie.png"} },
    { day:"Day 3", ex:{t:"Pull workout", icon:"icons/pull.png"}, diet:{t:"Burgers & fries", icon:"icons/burger.png"} },
    { day:"Day 4", ex:{t:"Leg day", icon:"icons/leg.png"}, diet:{t:"Milkshakes", icon:"icons/milkshake.png"} },
    { day:"Day 5", ex:{t:"Core training", icon:"icons/core.png"}, diet:{t:"Rice & curry", icon:"icons/rice.png"} },
    { day:"Day 6", ex:{t:"Rest", icon:"icons/rest.png"}, diet:{t:"Pizza", icon:"icons/pizza.png"} },
    { day:"Day 7", ex:{t:"Active rest", icon:"icons/stretch.png"}, diet:{t:"Ice cream", icon:"icons/icecream.png"} }
  ];

  const trackerContainer = document.getElementById('trackerContainer');
  const cleanBtn = document.getElementById('cleanBulkBtn');
  const fastBtn = document.getElementById('fastBulkBtn');
  const readMoreToggle = document.getElementById('readMoreToggle');
  const bulkDescFull = document.getElementById('bulkDescFull');
  const fastBulkCaution = document.getElementById('fastBulkCaution');
  const MODE_KEY='wg_mode', READ_KEY='wg_readmore', START_DATE_KEY='wg_start';

  // ---------- UTIL ----------
  const TODAY_INDEX = Math.floor((new Date() - new Date(localStorage.getItem(START_DATE_KEY)||Date.now()))/(1000*60*60*24));
  if(!localStorage.getItem(START_DATE_KEY)) localStorage.setItem(START_DATE_KEY, new Date().toISOString().slice(0,10));

  function showMotivation(card){
    const msg = document.createElement('div');
    msg.className='motivation-msg visible';
    const texts = [
      "Great job today! Keep it up!",
      "One step closer to your goal!",
      "Consistency pays off!",
      "You're getting stronger every day!"
    ];
    msg.textContent = texts[Math.floor(Math.random()*texts.length)];
    card.innerHTML='';
    card.appendChild(msg);
  }

  function renderTracker(plan, mode){
    trackerContainer.innerHTML='';
    plan.forEach((item,idx)=>{
      if(idx>TODAY_INDEX) return; // only show current/past day
      const card = document.createElement('div');
      card.className='tracker-card fade-in';
      const exChecked = localStorage.getItem(`wg_${mode}_${idx}_ex`)==='true';
      const dietChecked = localStorage.getItem(`wg_${mode}_${idx}_diet`)==='true';

      if(exChecked && dietChecked){
        showMotivation(card);
      } else {
        card.innerHTML = `
          <h3 style="margin:0 0 8px">${item.day}</h3>
          <div class="pair">
            <img src="${item.ex.icon}" alt="">
            <div>
              <div style="font-weight:700">Exercise</div>
              <div class="muted">${item.ex.t}</div>
              <label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="ex"> Completed</label>
            </div>
          </div>
          <div class="pair" style="margin-top:10px;">
            <img src="${item.diet.icon}" alt="">
            <div>
              <div style="font-weight:700">Diet</div>
              <div class="muted">${item.diet.t}</div>
              <label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="diet"> Completed</label>
            </div>
          </div>
        `;
      }

      trackerContainer.appendChild(card);
      card.querySelectorAll('input[type="checkbox"]').forEach(cb=>{
        const type = cb.getAttribute('data-type');
        cb.checked = localStorage.getItem(`wg_${mode}_${idx}_${type}`)==='true';
        cb.addEventListener('change',()=>{
          localStorage.setItem(`wg_${mode}_${idx}_${type}`, cb.checked?'true':'false');
          const exDone = card.querySelector('input[data-type="ex"]').checked;
          const dietDone = card.querySelector('input[data-type="diet"]').checked;
          if(exDone && dietDone) showMotivation(card);
        });
      });
    });
    document.querySelectorAll('.fade-in').forEach(el=>el.classList.add('visible'));
  }

  function setMode(mode){
    document.documentElement.style.setProperty('--theme-color',mode==='fast'? '#ff5722':'#ff9800');
    localStorage.setItem(MODE_KEY, mode);
    cleanBtn.classList.toggle('active', mode==='clean');
    fastBtn.classList.toggle('active', mode==='fast');
    if(mode==='fast' && localStorage.getItem(READ_KEY)==='open') fastBulkCaution.style.display='block';
    else fastBulkCaution.style.display='none';
    renderTracker(mode==='fast'? fastBulkPlan:cleanBulkPlan,mode);
  }

  cleanBtn.addEventListener('click',()=>setMode('clean'));
  fastBtn.addEventListener('click',()=>setMode('fast'));
  readMoreToggle.addEventListener('click',()=>{
    const hidden = bulkDescFull.style.display==='none';
    bulkDescFull.style.display = hidden?'block':'none';
    readMoreToggle.textContent=hidden?'Read less':'Read more';
    if(hidden) localStorage.setItem(READ_KEY,'open'); else localStorage.removeItem(READ_KEY);
    if(localStorage.getItem(MODE_KEY)==='fast') fastBulkCaution.style.display = hidden?'block':'none';
  });

  // ---------- CALCULATOR ----------
  document.getElementById('wg_calcBtn').addEventListener('click',()=>{
    const w=parseFloat(document.getElementById('wg_weight').value);
    const h=parseFloat(document.getElementById('wg_height').value);
    const a=parseInt(document.getElementById('wg_age').value);
    const g=document.getElementById('wg_gender').value;
    const act=parseFloat(document.getElementById('wg_activity').value);
    const goal=parseFloat(document.getElementById('wg_goal').value);
    if(!w||!h||!a){ alert("Fill all fields"); return; }
    let bmr = g==='male'? (88.362+13.397*w+4.799*h-5.677*a):(447.593+9.247*w+3.098*h-4.33*a);
    let tdee = bmr*act;
    let surplus = (goal*7700)/7;
    let target = tdee+surplus;
    alert(`BMR: ${Math.round(bmr)} kcal/day\nTDEE: ${Math.round(tdee)} kcal/day\nTarget Calories: ${Math.round(target)} kcal/day`);
  });

  // ---------- RESTORE STATE ----------
  window.onload=()=>{
    const mode = localStorage.getItem(MODE_KEY)||'clean';
    setMode(mode);
    if(localStorage.getItem(READ_KEY)==='open') readMoreToggle.click();
  };
  </script>
</body>
</html>
