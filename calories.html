
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calories & Nutrition Hub</title>
<link rel="stylesheet" href="../css/styles.css">
<style>
  body { font-family: 'Arial', sans-serif; margin:0; padding:0; background:#f0f4f8; }
  header { background: linear-gradient(90deg,#28a745,#20c997); color:#fff; text-align:center; padding:20px 10px; font-size:24px; font-weight:bold; }
  nav { display:flex; justify-content:center; flex-wrap:wrap; gap:12px; background:#fff; padding:10px 0; box-shadow:0 2px 5px rgba(0,0,0,0.1); position:sticky; top:0; z-index:10; }
  nav a { text-decoration:none; color:#28a745; font-weight:bold; padding:5px 10px; border-radius:5px; transition:0.2s; }
  nav a:hover { background:#e6f4ea; color:#20c997; }
  .container { max-width:950px; margin:20px auto; padding:0 15px; }
  .card { background:#fff; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.08); margin-bottom:25px; overflow:hidden; transition:transform 0.3s, box-shadow 0.3s; }
  .card:hover { transform:translateY(-5px); box-shadow:0 6px 20px rgba(0,0,0,0.15); }
  .card-header { padding:15px 20px; font-size:20px; font-weight:bold; color:#fff; display:flex; align-items:center; gap:10px; }
  .card-body { padding:20px; }
  input, select, button { width:100%; padding:10px; margin-bottom:12px; border-radius:6px; border:1px solid #ccc; transition:0.2s; }
  input:focus, select:focus { outline:none; border-color:#28a745; box-shadow:0 0 5px #28a745; }
  button { background:#28a745; color:#fff; font-weight:bold; border:none; cursor:pointer; transition:0.3s; }
  button:hover { background:#20c997; }
  .result { background: linear-gradient(90deg,#e9f7ef,#d4f1e1); padding:15px; border-radius:6px; margin-top:10px; font-weight:bold; color:#155724; white-space:pre-wrap; }
  .toggle-btn { background:none; border:none; color:#007bff; cursor:pointer; font-size:14px; padding:0; }
  .toggle-content { display:none; margin-top:10px; font-size:14px; }
  .fade-in { opacity:0; transform:translateY(15px); transition:0.5s; }
  .fade-in.visible { opacity:1; transform:translateY(0); }
</style>
</head>
<body>

<header>Calories & Nutrition Hub</header>

<nav>
  <a href="../index.html">Home</a>
  <a href="weightgain.html">Weight Gain</a>
  <a href="weightloss.html">Weight Loss</a>
  <a href="calories.html">Calories</a>
  <a href="exercises.html">Exercises</a>
  <a href="premium.html">Premium</a>
</nav>

<div class="container">

  <!-- BMR & TDEE -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#28a745,#20c997);">üí™ BMR & TDEE Calculator</div>
    <div class="card-body">
      <label for="weight">Weight (kg):</label>
      <input type="number" id="weight" placeholder="Enter your weight">
      <label for="height">Height (cm):</label>
      <input type="number" id="height" placeholder="Enter your height">
      <label for="age">Age (years):</label>
      <input type="number" id="age" placeholder="Enter your age">
      <label for="gender">Gender:</label>
      <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <label for="activity">Activity Level:</label>
      <select id="activity">
        <option value="1.2">Sedentary</option>
        <option value="1.375">Lightly active</option>
        <option value="1.55">Moderately active</option>
        <option value="1.725">Very active</option>
        <option value="1.9">Extra active</option>
      </select>
      <button id="calcBtn">Calculate</button>
      <div class="result" id="result"></div>
    </div>
  </div>

  <!-- Macronutrients -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#ff9800,#ffb74d);">üçΩÔ∏è Macronutrient Breakdown</div>
    <div class="card-body">
      <button id="macroBtn">Show Macronutrients</button>
      <div class="result" id="macrosResult"></div>
    </div>
  </div>

  <!-- BMI -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#ff5722,#ff7043);">‚öñÔ∏è BMI Calculator</div>
    <div class="card-body">
      <label for="bmiWeight">Weight (kg):</label>
      <input type="number" id="bmiWeight" placeholder="Enter your weight">
      <label for="bmiHeight">Height (cm):</label>
      <input type="number" id="bmiHeight" placeholder="Enter your height">
      <button id="bmiBtn">Calculate BMI</button>
      <div class="result" id="bmiResult"></div>
    </div>
  </div>

  <!-- Water Intake -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#03a9f4,#29b6f6);">üíß Daily Water Intake</div>
    <div class="card-body">
      <label for="waterWeight">Weight (kg):</label>
      <input type="number" id="waterWeight" placeholder="Enter your weight">
      <button id="waterBtn">Calculate Water Intake</button>
      <div class="result" id="waterResult"></div>
    </div>
  </div>

  <!-- Meal Plan -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#9c27b0,#ba68c8);">ü•ó Daily Meal Plan Generator</div>
    <div class="card-body">
      <label for="dietType">Diet Preference:</label>
      <select id="dietType">
        <option value="veg">Vegetarian</option>
        <option value="nonveg">Non-Vegetarian</option>
      </select>
      <button id="mealBtn">Generate Meal Plan</button>
      <div class="result" id="mealPlanResult"></div>
      <button id="copyMealBtn" style="display:none; margin-top:10px;">Copy Meal Plan</button>
    </div>
  </div>

  <!-- Tips -->
  <div class="card fade-in">
    <div class="card-header" style="background:linear-gradient(90deg,#ff4081,#f06292);">üìå Nutrition & Calorie Tips</div>
    <div class="card-body">
      <button class="toggle-btn" id="tipsBtn">Read more</button>
      <div class="toggle-content" id="tipsContent">
        <ul>
          <li>Eat balanced meals with protein, carbs, and healthy fats.</li>
          <li>Track your daily calories to ensure you meet your goals.</li>
          <li>Stay hydrated; drink at least 2‚Äì3 liters of water daily.</li>
          <li>Adjust calories gradually for sustainable weight loss or gain.</li>
          <li>Include fiber-rich foods for better digestion and satiety.</li>
          <li>Include lean protein sources such as eggs, fish, chicken, paneer, or legumes.</li>
          <li>Distribute meals evenly throughout the day for better energy management.</li>
        </ul>
      </div>
    </div>
  </div>

</div>

<script src="../js/ui.js"></script>
<script>
  window.addEventListener('load',()=>{
    document.querySelectorAll('.fade-in').forEach((el,i)=>setTimeout(()=>el.classList.add('visible'),i*150));
  });

  // BMR/TDEE
  document.getElementById('calcBtn').onclick=()=>{
    let w=parseFloat(document.getElementById('weight').value);
    let h=parseFloat(document.getElementById('height').value);
    let a=parseInt(document.getElementById('age').value);
    let g=document.getElementById('gender').value;
    let act=parseFloat(document.getElementById('activity').value);
    if(!w||!h||!a){ showToast("Please fill all fields!","error"); return; }
    let bmr=(g==='male')? 10*w+6.25*h-5*a+5 : 10*w+6.25*h-5*a-161;
    let tdee=Math.round(bmr*act);
    window.latestCalories=tdee;
    document.getElementById('result').innerHTML=`Maintenance Calories: <b>${tdee} kcal</b>\nCalories for Weight Loss: <b>${tdee-500} kcal</b>\nCalories for Weight Gain: <b>${tdee+500} kcal</b>`;
  };

  // Macros
  document.getElementById('macroBtn').onclick=()=>{
    if(!window.latestCalories){ showToast("Calculate calories first!","error"); return; }
    let cal=window.latestCalories;
    document.getElementById('macrosResult').innerHTML=`Protein: <b>${Math.round(cal*0.3/4)} g</b>\nCarbs: <b>${Math.round(cal*0.45/4)} g</b>\nFats: <b>${Math.round(cal*0.25/9)} g</b>`;
  };

  // BMI
  document.getElementById('bmiBtn').onclick=()=>{
    let w=parseFloat(document.getElementById('bmiWeight').value);
    let h=parseFloat(document.getElementById('bmiHeight').value)/100;
    if(!w||!h){ showToast("Please fill all fields!","error"); return; }
    let bmi=(w/(h*h)).toFixed(1);
    let cat=bmi<18.5?'Underweight':bmi<24.9?'Normal weight':bmi<29.9?'Overweight':'Obese';
    document.getElementById('bmiResult').innerHTML=`BMI: <b>${bmi}</b> (${cat})`;
  };

  // Water
  document.getElementById('waterBtn').onclick=()=>{
    let w=parseFloat(document.getElementById('waterWeight').value);
    if(!w){ showToast("Please enter weight!","error"); return; }
    let water=(w*35/1000).toFixed(1);
    document.getElementById('waterResult').innerHTML=`Recommended Water Intake: <b>${water} L/day</b>`;
  };

  // Meal Plan
  document.getElementById('mealBtn').onclick=()=>{
    if(!window.latestCalories){ showToast("Calculate calories first!","error"); return; }
    let cal=window.latestCalories, diet=document.getElementById('dietType').value;
    let breakfast=Math.round(cal*0.25), lunch=Math.round(cal*0.35), dinner=Math.round(cal*0.3), snacks=Math.round(cal*0.1);
    let meal='';
    if(diet==='veg'){
      meal=`Breakfast (~${breakfast} kcal):\n- Oats with milk, banana, nuts\n- 1 glass fresh juice\n\nLunch (~${lunch} kcal):\n- 2-3 chapatis + veg curry\n- 1 cup dal\n- Salad\n\nDinner (~${dinner} kcal):\n- Veg pulao + paneer curry\n- 1 bowl curd\n\nSnacks (~${snacks} kcal):\n- Nuts or roasted chickpeas\n- 1 fruit`;
    }else{
      meal=`Breakfast (~${breakfast} kcal):\n- Eggs (2-3) + toast\n- 1 glass milk\n\nLunch (~${lunch} kcal):\n- Grilled chicken/fish + rice/chapati\n- 1 cup dal (optional)\n- Salad\n\nDinner (~${dinner} kcal):\n- Chicken/fish curry + rice/chapati\n- 1 bowl curd\n\nSnacks (~${snacks} kcal):\n- Nuts or roasted chickpeas\n- 1 fruit`;
    }
    document.getElementById('mealPlanResult').innerText=meal;
    document.getElementById('copyMealBtn').style.display='block';
  };

  document.getElementById('copyMealBtn').onclick=()=>{
    navigator.clipboard.writeText(document.getElementById('mealPlanResult').innerText)
      .then(()=>showToast("Meal plan copied!","success"))
      .catch(()=>showToast("Failed to copy.","error"));
  };

  // Tips toggle
  document.getElementById('tipsBtn').onclick=()=>{
    let c=document.getElementById('tipsContent');
    let b=document.getElementById('tipsBtn');
    if(c.style.display==='block'){ c.style.display='none'; b.textContent='Read more'; }
    else{ c.style.display='block'; b.textContent='Show less'; }
  };
</script>

</body>
</html>
