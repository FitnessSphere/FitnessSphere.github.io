
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fitness Sphere — Weight Gain</title>

  <!-- restored main theme CSS -->
  <link rel="stylesheet" href="css/styles.css"/>

  <style>
    :root {
      --theme-color: #ff9800;
      --bg-dark: #0f1530;
      --card-bg: #1b2340;
      --text-light: #eee;
      --muted: #aaa;
      --accent: #ff5722;
      --success: #4caf50;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      margin:0;
      padding:0;
    }

    h1,h2,h3 { margin:0 0 12px; }

    .container { max-width: 960px; margin:0 auto; padding:16px; }

    nav.nav { background: linear-gradient(90deg, #0b0f25, #19234a); padding:10px 0; }
    .nav .brand img { height:40px; vertical-align:middle; }
    .links a { margin-left:16px; text-decoration:none; color:var(--text-light); font-weight:600; }
    .links a.active { color: var(--accent); }

    .section { margin-top:24px; }

    .card { background: var(--card-bg); padding:16px; border-radius:12px; margin-bottom:16px; box-shadow: 0 4px 12px rgba(0,0,0,0.4); }

    .btn { background: var(--accent); color:#fff; border:none; padding:8px 16px; border-radius:8px; cursor:pointer; font-weight:600; transition: all 0.3s ease; }
    .btn:hover { background:#e64a19; }
    .btn.secondary { background:#333; color:#fff; }
    .mode-toggle button { margin-right:12px; padding:8px 16px; border-radius:8px; cursor:pointer; }
    .mode-toggle button.active { background: var(--accent); color:#fff; }

    .muted { color: var(--muted); }

    /* fade in animation */
    .fade-in { opacity:0; transform:translateY(20px); transition:opacity 0.6s ease, transform 0.6s ease; }
    .fade-in.visible { opacity:1; transform:translateY(0); }

    /* tracker cards */
    .tracker-card { background: var(--card-bg); padding:16px; border-radius:12px; margin-bottom:12px; }
    .pair { display:flex; gap:12px; align-items:center; }
    .pair img { width:56px; height:56px; object-fit:cover; border-radius:8px; background:#0f1530; border:1px solid #22305e; }
    .checkbox-label { display:inline-flex; gap:8px; align-items:center; color:var(--muted); }
    input[type="checkbox"] { width:18px; height:18px; }

    .motivation-msg { color: var(--success); font-weight:600; opacity:0; transition: opacity 1s ease; }
    .motivation-msg.visible { opacity:1; }

    /* read more link */
    .read-more { color: var(--accent); cursor:pointer; text-decoration:underline; }

    @media (max-width:640px){
      .mode-toggle button { padding:14px 10px; font-size:16px; }
      .pair img { width:48px; height:48px; }
    }
  </style>
</head>
<body>
  <nav class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html" aria-label="Home">
        <img id="siteLogo" src="assets/logo.png" alt="logo" width="120"
          onerror="this.style.display='none';document.getElementById('brandText').style.display='inline-block'">
        <span id="brandText" style="display:none;color:var(--accent);font-weight:800;">Fitness Sphere</span>
      </a>
      <div class="links" data-menu>
        <a class="link" href="calories.html">Calories</a>
        <a class="link" href="weight-loss.html">Weight Loss</a>
        <a class="link active" href="weight-gain.html">Weight Gain</a>
        <a class="link" href="exercises.html">Exercises</a>
        <a class="link" href="premium.html">Premium</a>
      </div>
      <button class="btn secondary" data-menu-btn>Menu</button>
    </div>
  </nav>

  <main class="container section">
    <h1 class="fade-in">Weight Gain Guide & Tracker</h1>

    <section class="fade-in">
      <p class="muted">Welcome to the Weight Gain section. Use the tracker, pick Clean or Fast Bulk, and estimate your surplus with the calculator below.</p>
    </section>

    <section class="fade-in">
      <div class="mode-toggle">
        <button id="cleanBulkBtn" class="active">Clean Bulk</button>
        <button id="fastBulkBtn">Fast Bulk</button>
      </div>

      <p id="bulkDescShort" class="muted">
        <strong>Clean Bulk:</strong> A balanced, steady approach to gaining muscle with minimal fat.
        <span id="readMoreToggle" class="read-more">Read more</span>
      </p>

      <div id="bulkDescFull" class="muted" style="display:none; margin-top:10px;">
        <p><strong>Clean Bulk:</strong> Focus on nutrient-dense foods, lean protein and gradual calorie increases.</p>
        <p><strong>Fast Bulk:</strong> Larger surpluses to gain weight quickly — keep an eye on fat gain and digestion.</p>
        <p id="fastBulkCaution" class="notice warn" style="display:none; margin-top:8px;">
          <strong>Caution:</strong> Fast bulking can cause excess fat gain. Monitor weight and adjust training accordingly.
        </p>
      </div>
    </section>

    <section id="trackerContainer" class="fade-in"></section>

    <section class="fade-in">
      <h2>Calorie Surplus Calculator</h2>
      <p class="muted">Estimate how many calories above maintenance you'll need for your chosen gain rate.</p>

      <div class="card calc-card">
        <label>Weight (kg)</label>
        <input id="wg_weight" type="number" placeholder="Weight (kg)">

        <label>Height (cm)</label>
        <input id="wg_height" type="number" placeholder="Height (cm)">

        <label>Age (years)</label>
        <input id="wg_age" type="number" placeholder="Age">

        <label>Gender</label>
        <select id="wg_gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>

        <label>Activity level</label>
        <select id="wg_activity">
          <option value="1.2">Sedentary</option>
          <option value="1.375">Lightly active</option>
          <option value="1.55">Moderately active</option>
          <option value="1.725">Very active</option>
          <option value="1.9">Extra active</option>
        </select>

        <label>Goal (kg/week)</label>
        <select id="wg_goal">
          <option value="0.25">+0.25 kg/week (slow)</option>
          <option value="0.5">+0.5 kg/week (moderate)</option>
          <option value="1">+1 kg/week (fast)</option>
        </select>

        <div style="display:flex;gap:12px;align-items:center;margin-top:6px;">
          <button class="btn" id="wg_calcBtn">Calculate</button>
          <button class="btn secondary" id="wg_resetBtn">Reset</button>
        </div>
        <div id="wg_result" class="mt-3"></div>
      </div>
    </section>

    <section class="fade-in">
      <h2>Extra Tips</h2>
      <ul class="muted">
        <li>Prefer calorie-dense, nutritious foods (nuts, whole milk, oats, rice, avocado).</li>
        <li>Include progressive strength training to turn surplus into muscle.</li>
        <li>Ensure adequate sleep and recovery.</li>
      </ul>
    </section>
  </main>

  <script src="js/ui.js"></script>

  <script>
document.addEventListener('DOMContentLoaded', () => {
  const cleanBulkPlan = [
    { day: "Day 1", exercise: "Full-body workout", diet: "High-protein breakfast" },
    { day: "Day 2", exercise: "Rest & stretch", diet: "Oats & milk" },
    { day: "Day 3", exercise: "Upper body strength", diet: "Chicken & rice" },
    { day: "Day 4", exercise: "Cardio 20 min", diet: "Protein shake" },
    { day: "Day 5", exercise: "Lower body strength", diet: "Sweet potatoes" },
    { day: "Day 6", exercise: "Yoga & mobility", diet: "Eggs & toast" },
    { day: "Day 7", exercise: "Rest", diet: "Balanced meals" }
  ];
  const fastBulkPlan = [
    { day: "Day 1", exercise: "Push workout", diet: "Pasta with cheese" },
    { day: "Day 2", exercise: "Rest", diet: "Smoothies" },
    { day: "Day 3", exercise: "Pull workout", diet: "Burgers & fries" },
    { day: "Day 4", exercise: "Leg day", diet: "Milkshakes" },
    { day: "Day 5", exercise: "Core training", diet: "Rice & curry" },
    { day: "Day 6", exercise: "Rest", diet: "Pizza" },
    { day: "Day 7", exercise: "Active rest", diet: "Ice cream" }
  ];

  const trackerContainer = document.getElementById('trackerContainer');
  const cleanBtn = document.getElementById('cleanBulkBtn');
  const fastBtn = document.getElementById('fastBulkBtn');
  const readMoreToggle = document.getElementById('readMoreToggle');
  const bulkDescFull = document.getElementById('bulkDescFull');
  const fastBulkCaution = document.getElementById('fastBulkCaution');

  const MODE_KEY = 'wg_mode';
  const READ_KEY = 'wg_readmore';
  const TODAY = new Date().toISOString().slice(0,10);
  const DONE_KEY = (mode, idx, type) => `wg_${mode}_${TODAY}_${type}_${idx}`;

  const motivationalMsgs = [
    "Great start! Keep pushing — your muscles thank you.",
    "Consistency is key! Stay strong and focused.",
    "You're building the foundation — every meal counts.",
    "Cardio done! Energy up, mindset strong.",
    "Strength grows here — lower body power unlocked.",
    "Flexibility & calm — recovery is growth.",
    "Rest well! Today you recharge for tomorrow's gains."
  ];

  function renderTracker(plan, mode){
    trackerContainer.innerHTML = '';
    plan.forEach((item, idx) => {
      const card = document.createElement('div');
      card.className = 'tracker-card fade-in';
      const exHtml = `<div style="font-weight:700">Exercise</div><div class="muted">${item.exercise}</div>`;
      const dietHtml = `<div style="font-weight:700">Diet</div><div class="muted">${item.diet}</div>`;
      card.innerHTML = `
        <div class="task-row" data-idx="${idx}" data-type="ex">
          ${exHtml}
          <label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="ex"> Done</label>
        </div>
        <div class="task-row" data-idx="${idx}" data-type="diet">
          ${dietHtml}
          <label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="diet"> Done</label>
        </div>
      `;
      trackerContainer.appendChild(card);
    });

    trackerContainer.querySelectorAll('input[type="checkbox"]').forEach(cb => {
      const idx = parseInt(cb.getAttribute('data-idx'));
      const type = cb.getAttribute('data-type');
      const key = DONE_KEY(mode, idx, type);
      cb.checked = localStorage.getItem(key) === 'true';
      const row = cb.closest('.task-row');

      if(cb.checked){
        row.innerHTML = `<div class="motivation-msg visible">${motivationalMsgs[idx]}</div>`;
      }

      cb.addEventListener('change', ()=>{
        if(cb.checked){
          row.innerHTML = `<div class="motivation-msg">${motivationalMsgs[idx]}</div>`;
          const msgDiv = row.querySelector('.motivation-msg');
          setTimeout(()=> msgDiv.classList.add('visible'), 50);
          localStorage.setItem(key, 'true');
        } else {
          // reset the row to original content
          if(type==='ex') row.innerHTML = `<div style="font-weight:700">Exercise</div><div class="muted">${cleanBtn.classList.contains('active')?cleanBulkPlan[idx].exercise:fastBulkPlan[idx].exercise}</div><label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="ex"> Done</label>`;
          else row.innerHTML = `<div style="font-weight:700">Diet</div><div class="muted">${cleanBtn.classList.contains('active')?cleanBulkPlan[idx].diet:fastBulkPlan[idx].diet}</div><label class="checkbox-label"><input type="checkbox" data-idx="${idx}" data-type="diet"> Done</label>`;
          localStorage.removeItem(key);
        }
      });
    });
    // fade-in effect
    document.querySelectorAll('.fade-in').forEach((el,i)=>setTimeout(()=>el.classList.add('visible'), i*100));
  }

  function setMode(mode){
    document.documentElement.style.setProperty('--theme-color', mode==='fast'?'#ff5722':'#ff9800');
    localStorage.setItem(MODE_KEY, mode);
    cleanBtn.classList.toggle('active', mode==='clean');
    fastBtn.classList.toggle('active', mode==='fast');

    const readOpen = localStorage.getItem(READ_KEY)==='open';
    if(mode==='fast' && readOpen) fastBulkCaution.style.display='block';
    else fastBulkCaution.style.display='none';

    renderTracker(mode==='fast'?fastBulkPlan:cleanBulkPlan, mode);
  }

  cleanBtn.addEventListener('click', ()=>setMode('clean'));
  fastBtn.addEventListener('click', ()=>setMode('fast'));

  readMoreToggle.addEventListener('click', ()=>{
    const isHidden = bulkDescFull.style.display==='none';
    bulkDescFull.style.display=isHidden?'block':'none';
    readMoreToggle.textContent=isHidden?'Read less':'Read more';
    if(isHidden) localStorage.setItem(READ_KEY,'open'); else localStorage.removeItem(READ_KEY);
    if(localStorage.getItem(MODE_KEY)==='fast') fastBulkCaution.style.display=isHidden?'block':'none';
  });

  // Calculator
  const inputWeight=document.getElementById('wg_weight');
  const inputHeight=document.getElementById('wg_height');
  const inputAge=document.getElementById('wg_age');
  const selectGender=document.getElementById('wg_gender');
  const selectActivity=document.getElementById('wg_activity');
  const selectGoal=document.getElementById('wg_goal');
  const calcBtn=document.getElementById('wg_calcBtn');
  const resetBtn=document.getElementById('wg_resetBtn');
  const resultBox=document.getElementById('wg_result');

  calcBtn.addEventListener('click', ()=>{
    const w=parseFloat(inputWeight.value), h=parseFloat(inputHeight.value), a=parseInt(inputAge.value,10), g=selectGender.value, act=parseFloat(selectActivity.value), goal=parseFloat(selectGoal.value);
    if(!w||!h||!a){ alert('Fill weight, height and age'); return; }
    let bmr=g==='male'?88.362+13.397*w+4.799*h-5.677*a:447.593+9.247*w+3.098*h-4.330*a;
    const tdee=bmr*act;
    const surplus=goal*7700/7;
    const target=Math.round(tdee+surplus);
    resultBox.innerHTML=`<p><strong>BMR:</strong>${Math.round(bmr)}</p><p><strong>TDEE:</strong>${Math.round(tdee)}</p><p><strong>Calories for goal:</strong>${target}</p>`;
  });

  resetBtn.addEventListener('click', ()=>{
    inputWeight.value=inputHeight.value=inputAge.value='';
    selectGender.value='male';
    selectActivity.value='1.2';
    selectGoal.value='0.25';
    resultBox.innerHTML='';
  });

  (function init(){
    setMode(localStorage.getItem(MODE_KEY)||'clean');
    if(localStorage.getItem(READ_KEY)==='open'){
      bulkDescFull.style.display='block';
      readMoreToggle.textContent='Read less';
      if(localStorage.getItem(MODE_KEY)==='fast') fastBulkCaution.style.display='block';
    }
  })();
});
  </script>
</body>
</html>
